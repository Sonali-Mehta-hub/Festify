<%- layout("/layouts/boilerplate") %>
<style>
  #filters{
    margin-bottom: 1rem;
    display:flex;
    flex-wrap: wrap;
    
  }
  .filter{
    text-align: center;
    margin-top: 1rem;
    margin-right: 1rem;
    
    opacity:0.7
  }

  .filter:hover{
      opacity: 1;
      cursor: pointer;
  }
  .filter-icon{
    font-size:20px;
    color: rgb(71, 37, 64);
  }

  .tax-info{
    display: none;
  }

  .tax-toggle{
    border:1px solid rgb(121, 41, 121);
    border-radius: 2rem;
    height: 2.5rem;
    padding:1rem;
    margin-left: 2rem;
    display:flex;
    align-items: center;
    margin-top: 2rem;
  }

  .form-check-input:checked {
  background-color: rgb(165, 31, 165);
  border-color: rgb(155, 49, 155);
  outline: none;
  box-shadow: 0 0 5px 3px rgba(194, 120, 194, 0.5);
}
  
</style>

<div class="container-fluid container">

<div id="filters">
  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-fire"></i></div>
    <p>Trending</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-ranking-star"></i></div>
    <p>Palaces</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-mountain-city"></i></div>
    <p>iconic cities</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-umbrella-beach"></i></div>
    <p>Beaches</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-image"></i></div>
    <p>Amazing views</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-mountain-sun"></i></div>
    <p>Mountain-city</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-person-swimming"></i></div>
    <p>Amazing Pools</p> 
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-snowman"></i>                  </div>
    <p>Arctic</p>
  </div>

  <div class="filter">
    <div class="filter-icon"><i class="fa-solid fa-bridge-water"></i></div>
    <p>Islands</p> 
  </div>

  <div class="tax-toggle">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
      <label class="form-check-label" for="switchCheckDefault">Display total after</b></label>
    </div>
  </div>

</div>


<body>

  <div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-1">
    <% for(let listing of allListings){ %>

     <a href="/listings/<%=listing._id%>" class="listing-link">

         <div class="col">
           <div class="card listing-card h-100">
             <img
               src="<%=listing.image.url %>"
               class="card-img-top"
               alt="listing_image"
               style="height: 20rem"
             />
             <div class="card-img-overlay"><%=listing.title%></div>
             <div class="card-body">
               <p class="card-text">
                 <%=listing.title %> /<%=listing.location%>(<%=listing.country%>)<br />
                 &#x20B9; <%= listing.price ? listing.price.toLocaleString("en-IN") : "N/A" %> /day
                 <i class="tax-info"> &nbsp;&nbsp;+18% GST</i>
                 
               </p>
             </div>
           </div>
         </div>
     </a>

    <% } %>

  </div>

  <script>
      let taxSwitch = document.getElementById("switchCheckDefault");
      taxSwitch.addEventListener("click", ()=>{
          let taxInfo = document.getElementsByClassName("tax-info");
          for(info of taxInfo){
            if(info.style.display != "inline"){
              info.style.display = "inline";
            }else{
              info.style.display = "none";
            }
          }
      });

  </script>
</body>

</div>
